# PDFチャットボット 📄🤖

PDFやテキストファイルをアップロードして、OpenAI APIを使って内容に関する質問に答えてくれるチャットボットです。

## 🚀 始め方

### 1. 必要なもの
- Node.js (バージョン14以上)
- OpenAI APIキー
- Webブラウザ

### 2. APIキーの設定

1. `.env.example`ファイルをコピーして`.env`ファイルを作成：
   ```bash
   copy .env.example .env
   ```

2. `.env`ファイルを開いて、あなたのOpenAI APIキーを入力：
   ```
   OPENAI_API_KEY=sk-あなたのAPIキーをここに入力
   PORT=3000
   ```

### 3. チャットボットの起動

1. コマンドプロンプトまたはPowerShellを開く
2. プロジェクトフォルダに移動：
   ```bash
   cd C:\ts\chatbot-project
   ```
3. サーバーを起動：
   ```bash
   npm start
   ```
4. ブラウザで `http://localhost:3000` を開く

## 📖 使い方

### ファイルのアップロード
1. 「ファイルを選択」ボタンをクリック
2. PDFまたはテキストファイル（.txt）を選択（複数選択可能）
3. 「アップロード」ボタンをクリック

### 質問の仕方
1. ファイルがアップロードされると、入力欄が有効になります
2. 質問を入力欄に入力
3. 「送信」ボタンをクリックまたはEnterキーを押す

### 質問例
- 「このドキュメントの要約を教えて」
- 「〇〇について詳しく説明して」
- 「重要なポイントは何？」
- 「具体的な手順を教えて」

## 🔧 トラブルシューティング

### よくあるエラーと解決方法

1. **「OpenAI APIキーが設定されていません」**
   - `.env`ファイルにAPIキーが正しく設定されているか確認
   - APIキーの先頭に`sk-`があることを確認

2. **「ファイルのアップロードに失敗」**
   - ファイルサイズが10MB以下か確認
   - PDFまたはテキストファイルかどうか確認
   - ファイルが破損していないか確認

3. **「サーバーが起動しない」**
   - Node.jsがインストールされているか確認
   - `npm install`を実行したか確認
   - ポート3000が使用されていないか確認

4. **「AIからの応答がない」**
   - OpenAI APIの利用制限を確認
   - インターネット接続を確認
   - APIキーの有効性を確認

## 🛠️ 開発者向け情報

### プロジェクト構成
```
chatbot-project/
├── server.js           # Node.jsサーバー（メイン）
├── package.json        # 依存関係とスクリプト
├── .env               # 環境変数（APIキーなど）
├── public/            # フロントエンドファイル
│   ├── index.html     # メイン画面
│   ├── style.css      # スタイルシート
│   └── script.js      # フロントエンドJavaScript
└── uploads/           # アップロードファイル保存場所
```

### 使用技術
- **フロントエンド**: HTML, CSS, JavaScript
- **バックエンド**: Node.js, Express
- **ファイル処理**: Multer, pdf-parse
- **AI**: OpenAI GPT-3.5-turbo
- **その他**: CORS, dotenv

### API エンドポイント
- `POST /upload` - ファイルアップロード
- `POST /chat` - チャット送信
- `GET /files` - アップロードファイル一覧
- `DELETE /files/:filename` - ファイル削除

### 開発モードでの起動
```bash
npm run dev
```

## 📋 制限事項

- ファイルサイズ: 最大10MB
- 対応ファイル形式: PDF, テキスト（.txt）
- 同時アップロード: 最大10ファイル
- AIモデル: GPT-3.5-turbo

## 🔒 セキュリティ

- APIキーは`.env`ファイルで管理
- アップロードファイルは`uploads`フォルダに保存
- ファイルタイプとサイズの制限あり

## 📞 サポート

問題が発生した場合は以下を確認してください：
1. Node.jsのバージョン
2. OpenAI APIキーの有効性
3. インターネット接続
4. ファイル形式とサイズ

---

**楽しいチャット体験をお楽しみください！** 🎉