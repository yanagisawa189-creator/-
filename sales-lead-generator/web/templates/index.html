{% extends "base.html" %}

{% block title %}ホーム - 営業リスト自動生成エージェント{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8 mx-auto">
        <!-- ヒーローセクション -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold text-primary mb-3">
                <i class="bi bi-robot"></i> AI営業リスト自動生成
            </h1>
            <p class="lead mb-4">
                業種・エリア・条件から営業見込み先を自動検索・分析。<br>
                Claude AIによる高精度な企業情報抽出とスコアリングで効率的な営業活動を支援します。
            </p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <a href="{{ url_for('search') }}" class="btn btn-primary btn-lg px-4">
                    <i class="bi bi-search"></i> 今すぐ検索
                </a>
                <a href="{{ url_for('demo') }}" class="btn btn-outline-secondary btn-lg px-4">
                    <i class="bi bi-play-circle"></i> デモを見る
                </a>
            </div>
        </div>

        <!-- 機能紹介 -->
        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="card h-100 text-center">
                    <div class="card-body">
                        <div class="feature-icon bg-primary bg-gradient text-white rounded-3 mb-3 mx-auto d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                            <i class="bi bi-search fs-4"></i>
                        </div>
                        <h5 class="card-title">自動検索</h5>
                        <p class="card-text text-muted">
                            Google Custom Search APIやSerpAPIを使用して候補企業を自動検索
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 text-center">
                    <div class="card-body">
                        <div class="feature-icon bg-success bg-gradient text-white rounded-3 mb-3 mx-auto d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                            <i class="bi bi-cpu fs-4"></i>
                        </div>
                        <h5 class="card-title">AI分析</h5>
                        <p class="card-text text-muted">
                            Claude AIが企業情報を構造化抽出し、連絡先を自動補完
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 text-center">
                    <div class="card-body">
                        <div class="feature-icon bg-warning bg-gradient text-white rounded-3 mb-3 mx-auto d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                            <i class="bi bi-bar-chart fs-4"></i>
                        </div>
                        <h5 class="card-title">スコアリング</h5>
                        <p class="card-text text-muted">
                            業種・規模・連絡先・地域の一致度から優先度を自動算出
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- プロセス説明 -->
        <div class="card mb-5">
            <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                    <i class="bi bi-gear"></i> 処理フロー
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 text-center mb-3">
                        <div class="process-step">
                            <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">1</div>
                            <h6>検索フェーズ</h6>
                            <p class="text-muted small">条件から候補URL一覧を取得</p>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="process-step">
                            <div class="step-number bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">2</div>
                            <h6>取得・抽出フェーズ</h6>
                            <p class="text-muted small">Webスクレイピング + AI抽出</p>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="process-step">
                            <div class="step-number bg-warning text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">3</div>
                            <h6>情報補完フェーズ</h6>
                            <p class="text-muted small">メール推定・追加データ収集</p>
                        </div>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="process-step">
                            <div class="step-number bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 40px; height: 40px;">4</div>
                            <h6>スコアリング</h6>
                            <p class="text-muted small">優先度算出・結果出力</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API設定状況 -->
        <div class="card">
            <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                    <i class="bi bi-shield-check"></i> システム状況
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="d-flex align-items-center">
                            <div class="status-indicator bg-success rounded-circle me-2" style="width: 12px; height: 12px;" id="claude-status"></div>
                            <span>Claude API</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex align-items-center">
                            <div class="status-indicator bg-secondary rounded-circle me-2" style="width: 12px; height: 12px;" id="search-status"></div>
                            <span>検索API</span>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex align-items-center">
                            <div class="status-indicator bg-info rounded-circle me-2" style="width: 12px; height: 12px;"></div>
                            <span>システム正常</span>
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <small class="text-muted">
                        すべての機能を使用するには、
                        <a href="{{ url_for('settings') }}">設定ページ</a>
                        でAPIキーを設定してください。
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// システム状況の更新（簡易版）
document.addEventListener('DOMContentLoaded', function() {
    // APIキー状況を表示（実際の実装では設定APIから取得）
    // これはデモ用の固定値です
    const claudeStatus = document.getElementById('claude-status');
    const searchStatus = document.getElementById('search-status');

    // 実際には設定APIから取得する
    claudeStatus.className = 'status-indicator bg-success rounded-circle me-2';
    searchStatus.className = 'status-indicator bg-secondary rounded-circle me-2';
});
</script>
{% endblock %}